<h1 align="center">
  CNBA - Reader - Django
</h1>

## üíª Projeto

API para upload de arquivos no formato CNBA e visualiza√ß√£o das tabelas por estabelecimentos

## üî® Implementa√ß√µes

- [x] Upload de arquivo e persist√™ncia no banco de dados
- [x] P√°ginas templates no Django
- [x] Testes
- [x] Docker
- [ ] Heroku

## ‚ú® Tecnologias

- [x] Django
- [x] Django Rest Framework
- [x] Docker / Docker compose

## üåê Deploy

#### Sem deploy por enquanto

[Link do deploy]()

## Quick Start - BackEnd

### 1.1. Clonando o reposit√≥rio

Clone o reposit√≥rio na sua m√°quina

### 1.2. Vari√°veis de ambiente

Crie um arquivo **.env**, copiando o exemplo **.env.example**.
Configure conforme credenciais do Postgres.

### 1.3. V√° a pasta e rode o Docker
*Necess√°rio ter docker instalado

rode:

```

docker compose up

```

### 1.4. V√° ao terminal


rode:

```
docker exec -it cnba-reader-web-1 bash
```

e dentro do terminal bash do docker, rode:

```
python manage.py generate_transactions
```

### 1.5. Use a aplica√ß√£o em:

http://localhost:8000/home/

e fa√ßa upload do seu arquivo CNBA em formato .txt

Arquivo exemplo para ser enviado em .txt

```
3201903010000014200096206760174753****3153153453JO√ÉO MACEDO   BAR DO JO√ÉO       
5201903010000013200556418150633123****7687145607MARIA JOSEFINALOJA DO √ì - MATRIZ
3201903010000012200845152540736777****1313172712MARCOS PEREIRAMERCADO DA AVENIDA
2201903010000011200096206760173648****0099234234JO√ÉO MACEDO   BAR DO JO√ÉO       
1201903010000015200096206760171234****7890233000JO√ÉO MACEDO   BAR DO JO√ÉO       
2201903010000010700845152540738723****9987123333MARCOS PEREIRAMERCADO DA AVENIDA
2201903010000050200845152540738473****1231231233MARCOS PEREIRAMERCADO DA AVENIDA
3201903010000060200232702980566777****1313172712JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
1201903010000020000556418150631234****3324090002MARIA JOSEFINALOJA DO √ì - MATRIZ
5201903010000080200845152540733123****7687145607MARCOS PEREIRAMERCADO DA AVENIDA
2201903010000010200232702980568473****1231231233JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
3201903010000610200232702980566777****1313172712JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
4201903010000015232556418150631234****6678100000MARIA JOSEFINALOJA DO √ì - FILIAL
8201903010000010203845152540732344****1222123222MARCOS PEREIRAMERCADO DA AVENIDA
3201903010000010300232702980566777****1313172712JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
9201903010000010200556418150636228****9090000000MARIA JOSEFINALOJA DO √ì - MATRIZ
4201906010000050617845152540731234****2231100000MARCOS PEREIRAMERCADO DA AVENIDA
2201903010000010900232702980568723****9987123333JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
8201903010000000200845152540732344****1222123222MARCOS PEREIRAMERCADO DA AVENIDA
2201903010000000500232702980567677****8778141808JOS√â COSTA    MERCEARIA 3 IRM√ÉOS
3201903010000019200845152540736777****1313172712MARCOS PEREIRAMERCADO DA AVENIDA
```
